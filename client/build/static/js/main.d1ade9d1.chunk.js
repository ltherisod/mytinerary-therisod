(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(20),a=n.n(c),i=(n(102),n(103),n(104),n(88)),o=n(89),l=n(96),u=n(94),d=n(13),j=n(12),m=n(15),b=n(168),h=n(169),p=n(170),O=n(171),x=n(172),f=n(173),g=n(179),v=n(178),y=n(180),N=n(174),k=n(7),C=n.n(k),w=n(14),I=n(19),S=n.n(I),E={signUpUser:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n,s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.post("https://mytinerarytherisod.herokuapp.com/api/user/signup",e);case 3:return(r=t.sent).data.success&&n({type:"LOG_USER",payload:r.data.response}),t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},signInUser:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n,s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.post("https://mytinerarytherisod.herokuapp.com/api/user/signin",e);case 3:return(r=t.sent).data.success&&n({type:"LOG_USER",payload:r.data.response}),t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},signOutUser:function(){return function(e,t){e({type:"LOG_OUT_USER"})}},signInLS:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n,s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("https://mytinerarytherisod.herokuapp.com/api/verifyToken",{headers:{Authorization:"Bearer "+e}});case 3:r=t.sent,n({type:"LOG_USER",payload:{token:e,firstName:r.data.firstName,profilePhoto:r.data.profilePhoto,_id:r.data._id}}),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n({type:"LOG_OUT_USER"}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},P=n(2),T={signOutUser:E.signOutUser},_=Object(m.b)((function(e){return{token:e.users.token,firstName:e.users.firstName,profilePhoto:e.users.profilePhoto}}),T)((function(e){var t=e.token?Object(P.jsx)("div",{className:"userProfilePhoto",style:{backgroundImage:"url('".concat(e.profilePhoto,"')")}}):Object(P.jsx)("img",{className:"user",src:"/assets/person-circle.svg",alt:"usericon"}),n=Object(s.useState)(!1),r=Object(d.a)(n,2),c=r[0],a=r[1];return Object(P.jsx)("div",{children:Object(P.jsxs)(b.a,{color:"light",light:!0,expand:"md",children:[Object(P.jsx)(h.a,{className:"ms-2",onClick:function(){return a(!c)}}),Object(P.jsx)(p.a,{isOpen:c,navbar:!0,children:Object(P.jsxs)(O.a,{className:"mr-auto d-flex align-content-center",navbar:!0,children:[Object(P.jsx)(x.a,{href:"#",children:Object(P.jsx)("img",{src:"/assets/logo2.png",alt:"logo",className:"logo"})}),Object(P.jsxs)("div",{className:"p-3 navheader",children:[Object(P.jsx)(f.a,{children:Object(P.jsx)(j.c,{to:"/",children:"Home"})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(j.c,{to:"/cities",children:"Cities"})})]})]})}),e.token&&Object(P.jsxs)("p",{className:"welcome",children:["Welcome ",e.firstName,"!"]}),Object(P.jsx)(g.a,{nav:!0,inNavbar:!0,children:Object(P.jsxs)("div",{className:"userdiv",children:[Object(P.jsx)(v.a,{nav:!0,caret:!0,children:t}),Object(P.jsxs)(y.a,{right:!0,children:[!e.token&&Object(P.jsx)(N.a,{children:Object(P.jsx)(j.b,{to:"/signIn",children:"Sign in"})}),!e.token&&Object(P.jsx)(N.a,{children:Object(P.jsx)(j.b,{to:"/signUp",children:"Sign up"})}),e.token&&Object(P.jsx)(N.a,{children:Object(P.jsx)("p",{className:"signOut",onClick:function(){return e.signOutUser()},children:" Sign out"})})]})]})})]})})})),A=function(){return Object(P.jsxs)("div",{className:"heroContainer",children:[Object(P.jsx)("video",{className:"mainVideo",src:"/assets/Header.mp4",autoPlay:!0,loop:!0,muted:!0}),Object(P.jsx)("h1",{children:"Mytinerary"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Find your perfect trip,"}),Object(P.jsx)("h3",{children:"designed by insiders who know and love their cities!"})]}),Object(P.jsx)("div",{className:"heroButtons",children:Object(P.jsx)(j.b,{to:"/cities",children:Object(P.jsx)("button",{children:"GET STARTED"})})})]})},U=n(92),B=n(175),L=n(176),R=n(177),G=[[{src:"./assets/Cities/chileatacama.jpg",id:"chile",name:"Atacama"},{src:"./assets/Cities/CapeTown.jpg",id:"southAfrica",name:"Cape Town"},{src:"./assets/Cities/DarwinAustralia.jpg",id:"australia",name:"Darwin"},{src:"./assets/Cities/HuayinWein\xe1nChina.jpg",id:"china",name:"Huayin"}],[{src:"./assets/Cities/AucklandNewZeland.jpg",id:"newzeland",name:"Auckland"},{src:"./assets/Cities/BavariaGermany.jpg",id:"germany",name:"Bavaria"},{src:"./assets/Cities/PhilippinesCoron.jpg",id:"philippines",name:"Coron"},{src:"./assets/Cities/ShintoJapan.jpg",id:"shinto",name:"Shinto"}],[{src:"./assets/Cities/SukhothaiThailand.jpg",id:"thailand",name:"Sukhothain"},{src:"./assets/Cities/TulumMexico.jpg",id:"mexico",name:"Tulum"},{src:"./assets/Cities/VolcanThrihnukagigur.jpg",id:"island",name:"Hafnarfjordur"},{src:"./assets/Cities/ChaltenArgentinajpg.jpg",id:"argentina",name:"El Chalten"}]],H=function(){var e=Object(s.useState)(0),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(!1),a=Object(d.a)(c,2),i=a[0],o=a[1],l=function(){if(!i){var e=n===G.length-1?0:n+1;r(e)}},u=function(){if(!i){var e=0===n?G.length-1:n-1;r(e)}},j=G.map((function(e,t){return Object(P.jsx)(U.a,{onExiting:function(){return o(!0)},onExited:function(){return o(!1)},children:Object(P.jsx)("div",{className:"row boxPhoto",children:e.map((function(e){return Object(P.jsx)("div",{className:"col-sm-12 col-md-4 cityPhoto",style:{backgroundImage:"url('".concat(e.src,"')")},children:Object(P.jsx)("p",{className:"photoTitle",children:e.name})},e.id)}))})},t)}));return Object(P.jsxs)("div",{className:"container-fluid",children:[Object(P.jsxs)("div",{className:"carouselTitles",children:[Object(P.jsx)("h2",{children:"POPULAR MYTINERARIES"}),Object(P.jsx)("div",{className:"textDeco"})]}),Object(P.jsxs)(B.a,{activeIndex:n,next:l,previous:u,children:[Object(P.jsx)(L.a,{items:j,activeIndex:n,onClickHandler:function(e){i||r(e)}}),j,Object(P.jsx)(R.a,{className:"carouselHomePrev",direction:"prev",directionText:"Previous",onClickHandler:u}),Object(P.jsx)(R.a,{className:"carouselHomeNext",direction:"next",directionText:"Next",onClickHandler:l})]})]})},D=function(){return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"titles",children:[Object(P.jsx)("h2",{children:"ESCAPE WITH US"}),Object(P.jsx)("div",{className:"textDeco"})]}),Object(P.jsx)("div",{className:"container-fluid",children:Object(P.jsxs)("div",{className:"row cardContainer",children:[Object(P.jsxs)("div",{className:"col-10 col-md-3 my-4 card",children:[Object(P.jsx)("div",{className:"cardphoto",style:{backgroundImage:"url('./assets/logocard1.png')"}}),Object(P.jsx)("div",{className:"cardText",children:Object(P.jsx)("p",{children:"No matter where do you want to go, we can help  you there."})})]}),Object(P.jsxs)("div",{className:"col-10 col-md-3 my-4 card",children:[Object(P.jsx)("div",{className:"cardphoto",style:{backgroundImage:"url('./assets/logocard2.png')"}}),Object(P.jsx)("div",{className:"cardText",children:Object(P.jsx)("p",{children:"We maximize your vacation experience just in the right way."})})]}),Object(P.jsxs)("div",{className:"col-10 col-md-3 my-4 card",children:[Object(P.jsx)("div",{className:"cardphoto",style:{backgroundImage:"url('./assets/logocard3.png')"}}),Object(P.jsx)("div",{className:"cardText",children:Object(P.jsx)("p",{children:"Every Mountain top is within reach if you just keep climbing."})})]})]})})]})},W=function(){return Object(P.jsxs)("div",{className:"ps-5 d-none d-lg-block ourtipsContainer",children:[Object(P.jsxs)("div",{className:"titlesTips",children:[Object(P.jsx)("h2",{children:" WE KNOW THE BEST ROUTES"}),Object(P.jsx)("div",{className:"textDeco"})]}),Object(P.jsx)("div",{className:"mapContainer",style:{backgroundImage:"url('./assets/map.png')"}})]})},F=Object(m.b)((function(e){return{token:e.users.token}}))((function(e){return Object(P.jsx)("footer",{children:Object(P.jsxs)("div",{className:"footerContainer",style:{backgroundImage:"url('/assets/footerbanner.jpg')"},children:[Object(P.jsxs)("div",{className:"phraseNav",children:[Object(P.jsxs)("div",{className:"nameContainer",children:[Object(P.jsx)("h3",{children:"Mytinerary"}),Object(P.jsxs)("div",{className:"ps-5 d-none d-lg-block bilboPhrase",children:[Object(P.jsx)("p",{children:"\u201cIt\u2019s a dangerous business going out your door.You step onto the road, and if you don\u2019t keep your feet, there\u2019s no knowing where you might be swept off to.\u201d"}),Object(P.jsx)("p",{children:" \u2014 Bilbo Baggins"})]})]}),Object(P.jsxs)("nav",{children:[Object(P.jsx)(j.c,{to:"/",children:"Home"}),Object(P.jsx)(j.c,{to:"/cities",children:"Cities"}),!e.token&&Object(P.jsx)(j.c,{to:"/signUp",children:"Sign up"}),!e.token&&Object(P.jsx)(j.c,{to:"/signIn",children:"Sign in"})]})]}),Object(P.jsxs)("div",{className:"finalContent",children:[Object(P.jsxs)("div",{className:"socialMedia",children:[Object(P.jsx)("img",{src:"/assets/icons8-facebook-nuevo-96.png",alt:"facebook"}),Object(P.jsx)("img",{src:"/assets/icons8-instagram-96.png",alt:"instagram"}),Object(P.jsx)("img",{src:"/assets/icons8-twitter-cuadrado-96.png",alt:"twitter"})]}),Object(P.jsx)("span",{children:" Copyright \xa9 Laura Therisod | Mytinerary | MindHub | 2021 "})]})]})})})),Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){window.scroll(0,0)}},{key:"render",value:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_,{}),Object(P.jsx)(A,{}),Object(P.jsx)(D,{}),Object(P.jsx)(H,{}),Object(P.jsx)(W,{}),Object(P.jsx)(F,{})]})}}]),n}(r.a.Component),M=function(){return Object(P.jsx)("header",{children:Object(P.jsx)("div",{className:"containerHeader",style:{backgroundImage:"url('/assets/lighthouse.jpg')"}})})},z=function(e){var t=e.city,n=t.src,s=t._id,r=t.name,c=t.description;return Object(P.jsx)(j.b,{className:"cardLink text-decoration-none text-dark col-12 col-md-6 my-3",to:"/city/".concat(s),children:Object(P.jsx)("div",{className:"cardBody d-flex align-self-center",children:Object(P.jsx)("div",{className:"cardimg",style:{backgroundImage:"url('".concat(n,"')")},children:Object(P.jsxs)("div",{className:" citydescription",children:[Object(P.jsx)("h4",{children:r}),Object(P.jsx)("p",{children:c})]})})})})},V={getCities:function(){return function(){var e=Object(w.a)(C.a.mark((function e(t,n){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://mytinerarytherisod.herokuapp.com/api/citiesData");case 2:if((s=e.sent).data.success){e.next=5;break}throw new Error("Backend-Data Base problems");case 5:t({type:"GET_ALL_CITIES",payload:s.data.response});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},filterCities:function(e){return function(t,n){t({type:"FILTER_CITIES",payload:e})}},getOneCity:function(e){return function(t,n){t({type:"GET_ONE_CITY",payload:e})}}},J={getAllCities:V.getCities,filterCities:V.filterCities},q=Object(m.b)((function(e){return{cities:e.cities.searchedCities}}),J)((function(e){var t=Object(s.useState)(!0),n=Object(d.a)(t,2),r=n[0],c=n[1];Object(s.useEffect)((function(){function t(){return(t=Object(w.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getAllCities();case 3:c(!1),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),e.history.push("/fail"),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}window.scroll(0,0),function(){t.apply(this,arguments)}()}),[]);var a=0===e.cities.length?Object(P.jsxs)("div",{className:"oopsDiv",children:[Object(P.jsx)("p",{children:"Oops! No results for your search."}),Object(P.jsx)("p",{children:" Try another city!"})," ",Object(P.jsx)("img",{alt:"oops",src:"/assets/info.gif"})]}):e.cities.map((function(e,t){return Object(P.jsx)(z,{city:e},t)}));return r?Object(P.jsx)("div",{className:"loaderdiv d-flex justify-content-center align-items-center",children:Object(P.jsx)("img",{alt:"loader",className:"loaderGif",src:"/assets/sky-2-unscreen.gif"})}):Object(P.jsxs)("div",{children:[Object(P.jsx)(_,{}),Object(P.jsx)(M,{}),Object(P.jsxs)("div",{className:"inputContainer",children:[Object(P.jsx)("h2",{children:"FIND YOUR NEW ADVENTURE!"}),Object(P.jsx)("input",{type:"text",className:"inputFilter",placeholder:"Search your destination...",onChange:function(t){e.filterCities(t.target.value)}})]}),Object(P.jsx)("div",{className:"container-fluid d-flex justify-content-center align-items-center citiesdiv",children:Object(P.jsx)("div",{className:"row d-flex align-self-center",children:a})}),Object(P.jsx)(F,{})]})})),K=n(95),X={getItinerariesPerCity:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n,s){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("https://mytinerarytherisod.herokuapp.com/api/itineraries/".concat(e));case 2:if((r=t.sent).data.success){t.next=5;break}throw new Error("Backend-Data Base problems");case 5:n({type:"GET_ITINERARIES_PER_CITY",payload:r.data.response});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},likeItinerary:function(e,t){return Object(w.a)(C.a.mark((function n(){var s;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.a.put("https://mytinerarytherisod.herokuapp.com/api/itinerary/like/".concat(e),{},{headers:{Authorization:"Bearer "+t}});case 3:return s=n.sent,n.abrupt("return",s);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},getActivitiesPerItinerary:function(e){return Object(w.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("https://mytinerarytherisod.herokuapp.com/api/activities/".concat(e));case 3:if(!(n=t.sent).data.success){t.next=6;break}return t.abrupt("return",n.data.response[0].activities);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))},addCommentPerItinerary:function(e,t,n){return Object(w.a)(C.a.mark((function s(){var r;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,S.a.put("https://mytinerarytherisod.herokuapp.com/api/itinerary/comments/".concat(e),{comment:t,type:"addComment"},{headers:{Authorization:"Bearer "+n}});case 3:return r=s.sent,s.abrupt("return",r.data.response);case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))},editAComment:function(e,t,n){return Object(w.a)(C.a.mark((function s(){var r;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,S.a.put("https://mytinerarytherisod.herokuapp.com/api/itinerary/comments/".concat(e),{comment:t,type:"editComment"},{headers:{Authorization:"Bearer "+n}});case 3:if(r=s.sent,console.log(r),!r.data.success){s.next=7;break}return s.abrupt("return",{success:!0,res:r.data.response});case 7:s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))},deleteAComment:function(e,t,n){return Object(w.a)(C.a.mark((function s(){var r;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,S.a.put("https://mytinerarytherisod.herokuapp.com/api/itinerary/comments/".concat(e),{commentId:n,type:"deleteComment"},{headers:{Authorization:"Bearer "+t}});case 3:if(!(r=s.sent).data.success){s.next=6;break}return s.abrupt("return",r.data);case 6:s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))}},Z=n(45),Q={getActivitiesPerItinerary:X.getActivitiesPerItinerary},$=Object(m.b)(null,Q)((function(e){return Object(P.jsx)(Z.a,{className:"carrouselActivities carousel-fade",children:e.activities.map((function(e){return Object(P.jsxs)(Z.a.Item,{interval:3500,className:"photoAContainer",children:[Object(P.jsx)("div",{className:"activityPhoto",alt:"",style:{backgroundImage:'url("'.concat(e.photo,'")')}}),Object(P.jsx)(Z.a.Caption,{className:"caption",children:Object(P.jsx)("p",{children:e.name})})]},e._id)}))})})),ee=n(31),te=n(43),ne=n(36),se=n.n(ne),re=Object(m.b)((function(e){return{token:e.users.token,_id:e.users._id}}))((function(e){var t=Object(s.useRef)(),n=Object(s.useState)(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],i=e.newComment.userId._id===e._id;Object(s.useEffect)((function(){a(!1)}),[e.render]);var o=Object(P.jsxs)("div",{className:"d-flex",children:[c?Object(P.jsxs)("div",{className:"cajacolor",children:[Object(P.jsx)("input",{type:"text",defaultValue:e.newComment.comment,ref:t,className:"inputEdit"}),Object(P.jsx)(te.a,{className:"send",onClick:function(){return e.editNewComment(e.newComment._id,t.current.value,e.token)}}),Object(P.jsx)(ee.d,{className:"iconDelete",onClick:function(){se.a.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&(e.deleteComment(e.itinerary_id,e.token,e.newComment._id),se.a.fire("Deleted!","Your comment has been deleted.","success"))}))}})]}):Object(P.jsx)("p",{children:e.newComment.comment}),Object(P.jsx)(ee.b,{className:"iconEdit",onClick:function(){return a(!c)}})]}),l=i?o:Object(P.jsx)("p",{children:e.newComment.comment});return Object(P.jsxs)("div",{className:"commentData",children:[Object(P.jsx)("div",{className:"userIcon",style:{backgroundImage:"url('".concat(e.newComment.userId.profilePhoto,"')")}}),Object(P.jsx)("div",{className:"commentContainer",children:Object(P.jsxs)("div",{className:"comment",children:[Object(P.jsx)("div",{className:"userName",children:Object(P.jsxs)("p",{children:[e.newComment.userId.firstName," ",e.newComment.userId.lastName]})}),l]})})]})})),ce=function(e,t){se.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:e,title:t})},ae={addCommentPerItinerary:X.addCommentPerItinerary,editAComment:X.editAComment,deleteAComment:X.deleteAComment},ie=Object(m.b)((function(e){return{token:e.users.token}}),ae)((function(e){var t=Object(s.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(e.itineraryComments),i=Object(d.a)(a,2),o=i[0],l=i[1],u=Object(s.useRef)(),j=function(){var t=u.current.value;e.addCommentPerItinerary(e.itineraryId,t,e.token).then((function(t){e.token?(l(t),u.current.value=""):ce("error","You must be logged in to comment this post")})).catch((function(e){return console.log(e)}))},m=function(t,n,s){e.deleteAComment(t,n,s).then((function(e){if(!e.success)throw new Error;l(o.filter((function(e){return e._id!==s})))})).catch((function(e){return console.log(e)}))},b=function(t,n,s){e.editAComment(t,n,s).then((function(e){e.success&&(o.forEach((function(e){e._id===t&&(e.comment=n)})),l(o),c(!r))})).catch((function(e){return console.log(e)}))};return Object(P.jsxs)("div",{className:"commentsConstruction",children:[Object(P.jsx)("div",{className:"commentsTittle",children:Object(P.jsx)("h4",{children:"Comments"})}),Object(P.jsx)("div",{className:"comments",children:o.map((function(t){return Object(P.jsx)(re,{newComment:t,deleteComment:m,itinerary_id:e.itineraryId,editNewComment:b,render:r},t._id)}))}),Object(P.jsxs)("div",{className:"containerInputComment",children:[Object(P.jsx)("input",{ref:u,className:"inputComment",type:"text",onKeyPress:function(e){"Enter"===e.key&&j()},placeholder:!e.token&&"You must be logged in to comment"}),Object(P.jsx)(te.a,{onClick:j,className:"sendIcon"})]})]})})),oe={likeItinerary:X.likeItinerary,getActivitiesPerItinerary:X.getActivitiesPerItinerary},le=Object(m.b)((function(e){return{token:e.users.token,_id:e.users._id}}),oe)((function(e){var t=e.data,n=t.authorName,r=t.authorPhoto,c=t.src,a=t.hashtags,i=t.title,o=t.price,l=t.likes,u=t.description,j=t.time,m=t._id,b=t.comments,h=Object(s.useState)(!0),p=Object(d.a)(h,2),O=p[0],x=p[1],f=Object(s.useState)(l),g=Object(d.a)(f,2),v=g[0],y=g[1],N=Object(s.useState)([]),k=Object(d.a)(N,2),I=k[0],S=k[1],E=Object(s.useState)(!1),T=Object(d.a)(E,2),_=T[0],A=T[1],U=v.includes(e._id)?Object(P.jsx)(ee.a,{className:"heartIconRed"}):Object(P.jsx)(ee.c,{className:"heartIcon"}),B=function(){var t=Object(w.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x(!1),e.token){t.next=5;break}ce("error","You must be logged in to like this post"),t.next=9;break;case 5:return t.next=7,e.likeItinerary(m,e.token);case 7:n=t.sent,y(n.data.response);case 9:x(!0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function L(){return(L=Object(w.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getActivitiesPerItinerary(m);case 3:n=t.sent,S(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return Object(P.jsxs)("div",{className:"itineraryBody",children:[Object(P.jsxs)("div",{className:"itineraryHead",children:[Object(P.jsx)("div",{className:"itineraryPhoto",style:{backgroundImage:"url('".concat(c,"')")}}),Object(P.jsxs)("div",{className:"itineraryData",children:[Object(P.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(P.jsxs)("div",{className:"itineraryAuthor",children:[Object(P.jsx)("img",{className:"authorPhoto",src:r,alt:"authorPhoto"}),Object(P.jsx)("span",{className:"authorName",children:n})]}),Object(P.jsx)("div",{className:"adventure",style:{backgroundImage:"url('/assets/mini.png')"}})]}),Object(P.jsxs)("div",{className:"itineraryTitle",children:[Object(P.jsx)("h2",{children:i}),Object(P.jsxs)("div",{onClick:O?B:null,className:"likes",children:[U,Object(P.jsx)("p",{children:v.length})]})]}),Object(P.jsx)("p",{className:"itineraryDescrip",children:u}),Object(P.jsx)("span",{className:"hashtags",children:a.map((function(e,t){return Object(P.jsxs)("p",{children:["#",e]},t)}))}),Object(P.jsxs)("div",{className:"itineraryIcons",children:[Object(P.jsxs)("span",{className:"itineraryTime",children:[Object(P.jsx)("img",{src:"/assets/sandclock-6090.svg",alt:"clock icon"}),j," hours"]}),Object(P.jsx)("span",{className:"itineraryPrice",children:Object(K.a)(Array(o)).map((function(e,t){return Object(P.jsx)("img",{src:"/assets/money-dollar-6362.svg",className:"iconoBilletes",alt:"money"},t)}))})]})]})]}),Object(P.jsx)("div",{className:"underConstruction",children:_&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"activitiesHeader",children:[Object(P.jsx)("h2",{children:"LET'S EXPLORE "}),Object(P.jsx)("div",{className:"textDeco"})]}),Object(P.jsxs)("div",{className:"activitiesSection",children:[Object(P.jsx)($,{activities:I}),Object(P.jsx)(ie,{itineraryId:m,itineraryComments:b})]})]})}),Object(P.jsx)("div",{className:"itinerarybutton",children:Object(P.jsx)("button",{onClick:function(){A(!_),_||I.length||function(){L.apply(this,arguments)}()},children:_?"View Less":"View More"})})]})})),ue={getOneCity:V.getOneCity,getItinerariesPerCity:X.getItinerariesPerCity},de=Object(m.b)((function(e){return{city:e.cities.newCity,cities:e.cities.allCities,itineraries:e.itineraries.itinerariesPerCity}}),ue)((function(e){var t=Object(s.useState)(!0),n=Object(d.a)(t,2),r=n[0],c=n[1];Object(s.useEffect)((function(){if(window.scroll(0,0),!e.cities.length)return e.history.push("/cities"),!1;function t(){return(t=Object(w.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getItinerariesPerCity(e.match.params.id);case 3:return t.next=5,e.getOneCity(e.match.params.id);case 5:c(!1),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log("city"),e.history.push("/fail"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var a=0===e.itineraries.length?Object(P.jsxs)("div",{className:"comingSoon",children:[" ",Object(P.jsx)("div",{className:"noItineraries",style:{backgroundImage:"url('/assets/backNo.jpg')"},children:Object(P.jsx)("div",{children:Object(P.jsx)("h3",{children:"Oh no! We don't have any itineraries yet!"})})})]}):e.itineraries.map((function(e){return Object(P.jsx)(le,{data:e},e._id)}));return r?Object(P.jsx)("div",{className:"loaderdiv d-flex justify-content-center align-content-center",children:Object(P.jsx)("img",{alt:"loader",className:"loaderGif",src:"/assets/sky-2-unscreen.gif"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_,{}),Object(P.jsx)("header",{className:"cityHeader",style:{backgroundImage:"url('".concat(e.city.background,"')")},children:Object(P.jsx)("h1",{children:Object(P.jsxs)("span",{children:[" Welcome to ",e.city.name," "]})})}),Object(P.jsxs)("main",{children:[Object(P.jsxs)("div",{className:"titles",children:[Object(P.jsx)("h2",{children:"Join us in this wonderfull adventure"}),Object(P.jsx)("div",{className:"textDeco"})]}),Object(P.jsx)("div",{className:"itinerariesBox",children:a}),Object(P.jsx)("div",{className:"comingSoon",children:Object(P.jsx)(j.b,{to:"/cities",children:Object(P.jsx)("button",{className:"back",children:"Back to Cities"})})})]}),Object(P.jsx)(F,{})]})})),je=function(){return Object(P.jsxs)("div",{className:"errordiv",children:[Object(P.jsx)("div",{className:"notFound",children:Object(P.jsx)("img",{src:"./assets/instructions.gif",alt:"lost"})}),Object(P.jsxs)("div",{className:"errorText",children:[Object(P.jsx)("h1",{children:"Error 404!"}),Object(P.jsx)("h3",{children:"Looks like you're lost"}),Object(P.jsx)("p",{children:"the page you are looking for is not available!"}),Object(P.jsx)(j.b,{to:"/",children:Object(P.jsx)("button",{className:"errorButton",children:"Go back"})})]})]})},me=function(){return Object(P.jsxs)("div",{className:"errordiv",children:[Object(P.jsx)("div",{className:"notFound",children:Object(P.jsx)("img",{src:"./assets/info4.gif",alt:"lost"})}),Object(P.jsxs)("div",{className:"errorText",children:[Object(P.jsx)("h1",{children:"Oops!"}),Object(P.jsx)("h3",{children:"Something went wrong"}),Object(P.jsx)("h3",{children:"Come back Home!"}),Object(P.jsx)(j.b,{to:"/",children:Object(P.jsx)("button",{className:"errorButton2",children:"Go back"})})]})]})},be=n(30),he=n(18),pe=n(32),Oe=n(57),xe=(n(165),n(44)),fe=n.n(xe),ge={signUpUser:E.signUpUser},ve=Object(m.b)(null,ge)((function(e){var t=Object(s.useState)([]),n=Object(d.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)({firstName:"",lastName:"",email:"",password:"",profilePhoto:"",country:""}),i=Object(d.a)(a,2),o=i[0],l=i[1],u=Object(s.useState)(!0),m=Object(d.a)(u,2),b=m[0],h=m[1];Object(s.useEffect)((function(){window.scroll(0,0),S.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[]);var p=function(e){var t=e.target.value,n=e.target.name;l(Object(he.a)(Object(he.a)({},o),{},Object(be.a)({},n,t)))},O=function(){var t=Object(w.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object.values(o).some((function(e){return""===e}))){t.next=4;break}ce("error","All fields are required!"),t.next=16;break;case 4:return t.prev=4,t.next=7,e.signUpUser(o);case 7:n=t.sent,console.log(n),n.data.success?ce("success","Welcome adventurer!"):n.data.errors?n.data.errors.map((function(e){return Oe.b.warn(e.message,{position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0})})):ce("error","This email is already in use"),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(4),e.history.push("/fail"),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(w.a)(C.a.mark((function t(n){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),s={firstName:n.profileObj.givenName,lastName:n.profileObj.familyName,email:n.profileObj.email,password:n.profileObj.googleId,profilePhoto:n.profileObj.imageUrl,country:"Argentina",google:!0},t.prev=2,t.next=5,e.signUpUser(s);case 5:t.sent.data.success?ce("success","Welcome adventurer!"):ce("error","You created your account with google, please log with them"),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(2),e.history.push("/fail"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{children:[Object(P.jsx)(_,{}),Object(P.jsxs)("div",{className:"signUpBack",style:{backgroundImage:"url('/assets/signInmedia2.png')"},children:[Object(P.jsxs)("div",{className:"signUpTittle",children:[Object(P.jsx)("h2",{children:"Hello Adventurer!"}),Object(P.jsx)("h4",{children:"Create your account by filling the form below."})]}),Object(P.jsxs)("div",{className:"formContainer",children:[Object(P.jsxs)("form",{children:[Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",name:"firstName",placeholder:"First name",value:o.firstName,onChange:p,autoComplete:"nope"})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"text",name:"lastName",placeholder:"Last name",value:o.lastName,onChange:p,autoComplete:"nope"})}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:o.email,onChange:p,autoComplete:"nope"})}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:b?"password":"text",name:"password",placeholder:"Password",value:o.password,onChange:p,autoComplete:"nope"}),Object(P.jsx)("div",{onClick:function(){return h(!b)},className:"eyeIcon",children:b?Object(P.jsx)(pe.b,{className:"inputIcons"}):Object(P.jsx)(pe.a,{className:"inputIcons"})})]}),Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"url",name:"profilePhoto",placeholder:"Url profile picture",value:o.profilePhoto,onChange:p,autoComplete:"nope"})}),Object(P.jsx)("span",{children:Object(P.jsxs)("select",{type:"text",name:"country",placeholder:"Choose your country",value:o.country,onChange:p,children:[Object(P.jsx)("option",{children:"Choose your country"}),r.map((function(e){return Object(P.jsx)("option",{value:e.name,children:e.name},e.name)}))]})})]}),Object(P.jsxs)("div",{className:"formButtons",children:[Object(P.jsx)("button",{onClick:O,children:"Create account"}),Object(P.jsx)(fe.a,{clientId:"356842041133-55s2b7ber4m42gn59mniralrv1ens5v1.apps.googleusercontent.com",render:function(e){return Object(P.jsx)("button",{onClick:e.onClick,disabled:e.disabled,children:"Sign in with Google"})},buttonText:"Login",onSuccess:x,cookiePolicy:"single_host_origin"}),Object(P.jsxs)("p",{children:["Already have an account? ",Object(P.jsx)(j.b,{to:"/signIn",children:"Log in here"})]})]})]})]}),Object(P.jsx)(Oe.a,{position:"bottom-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1})]})})),ye={signInUser:E.signInUser},Ne=Object(m.b)(null,ye)((function(e){var t=Object(s.useState)({email:"",password:""}),n=Object(d.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(!0),i=Object(d.a)(a,2),o=i[0],l=i[1],u=function(e){var t=e.target.value,n=e.target.name;c(Object(he.a)(Object(he.a)({},r),{},Object(be.a)({},n,t)))},m=function(){var t=Object(w.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==r.email&&""!==r.password){t.next=4;break}ce("error","All the fields are required!"),t.next=15;break;case 4:return t.prev=4,t.next=7,e.signInUser(r);case 7:t.sent.data.success?ce("success","Welcome adventurer!"):ce("error","Wrong email or password! Try again"),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(4),e.history.push("/fail"),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(w.a)(C.a.mark((function t(n){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={email:n.profileObj.email,password:n.profileObj.googleId,flagGoogle:!0},t.prev=1,t.next=4,e.signInUser(s);case 4:t.sent.data.success?ce("success","Welcome adventurer!"):ce("error","You created your account with google, please log with them"),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{children:[Object(P.jsx)(_,{}),Object(P.jsxs)("div",{className:"signInBack",style:{backgroundImage:"url('/assets/LogInmedia2.png')"},children:[Object(P.jsxs)("div",{className:"signInTittle",children:[Object(P.jsx)("h2",{children:"Welcome back!"}),Object(P.jsx)("h4",{children:"Log in adventurer"}),Object(P.jsx)("h4",{children:"Connect with Mytinerary's community."})]}),Object(P.jsxs)("div",{className:"formContainerSignIn",children:[Object(P.jsxs)("form",{className:"signInForm",children:[Object(P.jsx)("span",{children:Object(P.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:u,autoComplete:"nope"})}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:o?"password":"text",name:"password",placeholder:"Password",value:r.password,onChange:u,autoComplete:"nope"}),Object(P.jsx)("div",{onClick:function(){return l(!o)},className:"eyeIcon",children:o?Object(P.jsx)(pe.b,{className:"inputIcons"}):Object(P.jsx)(pe.a,{className:"inputIcons"})})]})]}),Object(P.jsxs)("div",{className:"formButtons",children:[Object(P.jsx)("button",{onClick:m,children:"Log in"}),Object(P.jsx)(fe.a,{clientId:"356842041133-55s2b7ber4m42gn59mniralrv1ens5v1.apps.googleusercontent.com",render:function(e){return Object(P.jsx)("button",{onClick:e.onClick,disabled:e.disabled,children:"Log in with Google"})},buttonText:"Login",onSuccess:b,cookiePolicy:"single_host_origin"}),Object(P.jsxs)("p",{children:["Don't you have an account yet? ",Object(P.jsx)(j.b,{to:"/signUp",children:"Sign up here"})]})]})]})]})]})})),ke=n(17),Ce={signInLS:E.signInLS},we=Object(m.b)((function(e){return{token:e.users.token}}),Ce)((function(e){return Object(s.useEffect)((function(){localStorage.getItem("token")&&e.signInLS(localStorage.getItem("token"))}),[]),Object(P.jsx)(j.a,{children:Object(P.jsxs)(ke.d,{children:[Object(P.jsx)(ke.b,{exact:!0,path:"/",component:Y}),Object(P.jsx)(ke.b,{path:"/cities",component:q}),Object(P.jsx)(ke.b,{path:"/city/:id",component:de}),!e.token&&Object(P.jsx)(ke.b,{path:"/signUp",component:ve}),!e.token&&Object(P.jsx)(ke.b,{path:"/signIn",component:Ne}),Object(P.jsx)(ke.b,{path:"/Fail",component:me}),Object(P.jsx)(ke.b,{path:"/Error404",component:je}),Object(P.jsx)(ke.a,{to:"/"})]})})})),Ie=n(37),Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allCities:[],searchedCities:[],newCity:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CITIES":return Object(he.a)(Object(he.a)({},e),{},{allCities:t.payload,searchedCities:t.payload,newCity:t.payload});case"FILTER_CITIES":var n=e.allCities.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.trim().toLowerCase())}));return Object(he.a)(Object(he.a)({},e),{},{searchedCities:n});case"GET_ONE_CITY":var s=e.allCities.find((function(e){return e._id===t.payload}));return Object(he.a)(Object(he.a)({},e),{},{newCity:s});default:return e}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itinerariesPerCity:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES_PER_CITY":return Object(he.a)(Object(he.a)({},e),{},{itinerariesPerCity:t.payload});default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,firstName:null,profilePhoto:null,_id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("token",t.payload.token),localStorage.setItem("firstName",t.payload.firstName),localStorage.setItem("profilePhoto",t.payload.profilePhoto),localStorage.setItem("id",t.payload._id),Object(he.a)(Object(he.a)({},e),{},{token:t.payload.token,firstName:t.payload.firstName,profilePhoto:t.payload.profilePhoto,_id:t.payload._id});case"LOG_OUT_USER":return localStorage.removeItem("token"),localStorage.removeItem("firstName"),localStorage.removeItem("profilePhoto"),localStorage.removeItem("id"),{token:null,firstName:null,profilePhoto:null,_id:null};default:return e}},Te=Object(Ie.b)({cities:Se,itineraries:Ee,users:Pe}),_e=n(93),Ae=Object(Ie.c)(Te,Object(Ie.a)(_e.a));a.a.render(Object(P.jsx)(m.a,{store:Ae,children:Object(P.jsx)(we,{})}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.d1ade9d1.chunk.js.map